var Four,LeapClient;Four={},LeapClient=function(){function a(a){var b;this.url=a,this.renderer=new THREE.WebGLRenderer||new THREE.CanvasRenderer,this.clientId=null,this.scene=new THREE.Scene,this.camera=new THREE.PerspectiveCamera(75,window.innerWidth/window.innerHeight,1,1e4),this.camera.position.z=4,this.active=!0,this.objects={},b=new THREE.ObjectLoader,this.renderer.setSize(window.innerWidth,window.innerHeight),document.body.appendChild(this.renderer.domElement),this.io=io(),this.io.on("connect",function(a){return function(){return a.io.emit("leap")}}(this)),this.io.on("message",function(a){return function(b){var c,d;return c=b.split(" "),"clientId"===c[0]?a.clientId=c[1]:"deactivate"===c[0]?a.active=!1:"activate"===c[0]?a.active=!0:(d=JSON.parse(b),a.camera.lookAt=d.lookAt,a.camera.up=d.up)}}(this)),this.io.on("add",function(a){return function(c){return b.parse(c,function(b){return a.scene.add(b),a.objects[c.uuid]=b})}}(this)),this.io.on("remove",function(a){return function(b){var c;return c=a.objects[b],a.scene.remove(c),delete a.objects[b]}}(this)),this.io.on("update",function(a){return function(b){var c,d,e;if(c=a.objects[b.uuid],null==c)return a.io.emit("info",{id:b.id});e=[];for(d in b.props)"id"!==d?e.push(c[d]=b[d]):e.push(void 0);return e}}(this)),this.io.on("object",function(a){return function(c){return console.log(c.uuid),null==a.objects[c.uuid]?b.parse(c,function(b){return a.objects[c.uuid]=b,a.scene.add(b)}):void 0}}(this)),this.animate()}return a.prototype.animate=function(){return requestAnimationFrame(function(a){return function(){return a.animate()}}(this)),this.renderer.render(this.scene,this.camera)},a}(),Four.LeapClient=LeapClient;